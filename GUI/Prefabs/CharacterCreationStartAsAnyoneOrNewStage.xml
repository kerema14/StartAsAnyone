<?xml version="1.0" encoding="utf-8"?>
<Prefab>
  <Constants>
    <Constant Name="NextButton.Width" BrushLayer="Default" BrushName="ButtonBrush1" BrushValueType="Width" />
    <Constant Name="NextButton.Height" BrushLayer="Default" BrushName="ButtonBrush1" BrushValueType="Height" />
    <Constant Name="PreviousButton.Width" BrushLayer="Default" BrushName="ButtonBrush2" BrushValueType="Width" />
    <Constant Name="PreviousButton.Height" BrushLayer="Default" BrushName="ButtonBrush2" BrushValueType="Height" />
    <Constant Name="RightPanel.Width" Value="694"/>
  </Constants>
  <Window>
    <Widget WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent" Sprite="BlankWhiteSquare_9" Color="#000000FF">
      <Children>
        <Standard.Background Parameter.SmokeColorFactor="2" Parameter.ParticleOpacity="1.6" />
        <Widget WidthSizePolicy="StretchToParent" HeightSizePolicy="Fixed" SuggestedHeight="382" VerticalAlignment="Bottom" Sprite="General\CharacterCreation\character_creation_background_gradient" />

		  <Widget Id="HeroSelectionPanel"
			WidthSizePolicy="StretchToParent"
			HeightSizePolicy="CoverChildren"
			MarginTop="20"
			MarginRight="!RightPanel.Width"
			Sprite="SPGeneral\GameMenu\panel_frame"
			IsHidden="@NotStartAsAnyone"
			HorizontalAlignment="Left"
			VerticalAlignment="Center">
			  <Children>
				  <!-- Kingdom selector -->
				  <ButtonWidget DoNotPassEventsToChildren="true" WidthSizePolicy="CoverChildren" HeightSizePolicy="CoverChildren" VerticalAlignment="Center" Command.Click="ExecuteMe" UpdateChildrenStates="true"  DoNotUseCustomScaleAndChildren="true">
					  <Children>

						  <!--Culture Flag-->


						  <ImageWidget Id="Qwe" WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent" Brush="SPOptions.Checkbox.Full.Button" />

						  <TextWidget WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="181" SuggestedHeight="30" VerticalAlignment="Bottom" PositionYOffset="3" Brush="Culture.Text" Text="Here we are" />

					  </Children>
				  </ButtonWidget>
				  
				  <ListPanel WidthSizePolicy="StretchToParent"
							 HeightSizePolicy="Fixed"
							 SuggestedHeight="200"
							 DataSource="{AvailableKingdoms}"
							 SelectedItem="@SelectedKingdom"
							 StackLayout.LayoutMethod="VerticalBottomToTop"
							 />

				  <!-- Clan selector -->
				  
				  <ListPanel WidthSizePolicy="StretchToParent"
							 HeightSizePolicy="Fixed"
							 SuggestedHeight="200"
							 DataSource="{AvailableClans}"
							 SelectedItem="@SelectedClan"
							 StackLayout.LayoutMethod="VerticalBottomToTop"/>

				  <!-- Hero selector -->
				  
				  <ListPanel WidthSizePolicy="StretchToParent"
							 HeightSizePolicy="Fixed"
							 SuggestedHeight="200"
							 DataSource="@SelectedClan"
							 SelectedItem="@SelectedHero"
							 StackLayout.LayoutMethod="VerticalBottomToTop"/>
			  </Children>
		  </Widget>

        <!-- Right Panel -->
        <Widget Id="RightPanel" WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="!RightPanel.Width" SuggestedHeight="1080" HorizontalAlignment="Right" Sprite="SPGeneral\GameMenu\panel_frame" VerticalAlignment="Center" DoNotUseCustomScaleAndChildren="true">
          <Children>
            <!--Title-->
            <RichTextWidget WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="670" SuggestedHeight="55" HorizontalAlignment="Right" Brush="Stage.Title.Text" PositionYOffset="37" Text="@Title" />

            <!--Description-->
            <RichTextWidget WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="620" SuggestedHeight="90" HorizontalAlignment="Right" MarginRight="15" MarginTop="100" Brush="Stage.Description.Text"  Text="@Description" />

            <Widget Id="InnerPanel" WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="573" SuggestedHeight="750" HorizontalAlignment="Center" VerticalAlignment="Center" PositionXOffset="23" PositionYOffset="37">
              <Children>
                <ListPanel WidthSizePolicy="CoverChildren" HeightSizePolicy="CoverChildren" HorizontalAlignment="Center" VerticalAlignment="Center" StackLayout.LayoutMethod="VerticalBottomToTop">
                  <Children>
                    
					  <!--amcukiye-->
                        <!--brom button brushlarını güncelle  çünkü bunlar sik gibi duruyor-->
					  <ButtonWidget DoNotPassEventsToChildren="true" WidthSizePolicy="StretchToParent" HeightSizePolicy="Fixed" SuggestedWidth="400" SuggestedHeight="200" Brush="SPOptions.Checkbox.Empty.Button" ButtonType="Toggle" IsSelected="@StartAsAnyone" ToggleIndicator="ToggleIndicator" UpdateChildrenStates="true">
						  <Children>
							  
							  <ImageWidget Id="ToggleIndicator" WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent" Brush="SPOptions.Checkbox.Full.Button" />
							  <TextWidget WidthSizePolicy="CoverChildren" HeightSizePolicy="CoverChildren" HorizontalAlignment="Center" VerticalAlignment="Center" Brush="Stage.Option.Text" Text="Start as an existing Hero" />

						  </Children>
					  </ButtonWidget>

					  <ButtonWidget DoNotPassEventsToChildren="true" WidthSizePolicy="StretchToParent" HeightSizePolicy="Fixed" SuggestedWidth="400" SuggestedHeight="200" Brush="SPOptions.Checkbox.Empty.Button" ButtonType="Toggle" IsSelected="@NotStartAsAnyone" ToggleIndicator="ToggleIndicatorFalse" UpdateChildrenStates="true">
						  <Children>
							  <ImageWidget Id="ToggleIndicatorFalse" WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent" Brush="SPOptions.Checkbox.Full.Button" />
							  <TextWidget WidthSizePolicy="CoverChildren" HeightSizePolicy="CoverChildren" HorizontalAlignment="Center" VerticalAlignment="Center" Brush="Stage.Option.Text" Text="Create New Character" />

						  </Children>
					  </ButtonWidget>
					  
					  <!--amcukiye-->
                  </Children>
                </ListPanel>
              </Children>
            </Widget>

            <!--Previous and Next Buttons-->
            <ListPanel WidthSizePolicy="CoverChildren" HeightSizePolicy="CoverChildren" HorizontalAlignment="Right" VerticalAlignment="Bottom" MarginBottom="50" MarginRight="40">
              <Children>
                <ButtonWidget DoNotPassEventsToChildren="true" WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="125" SuggestedHeight="64" HorizontalAlignment="Right" VerticalAlignment="Center" MarginRight="20" Brush="Standard.BackButton" Command.Click="OnPreviousStage" UpdateChildrenStates="true">
                  <Children>
                    <InputKeyVisualWidget DataSource="{CancelInputKey}" DoNotAcceptEvents="true" WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="45" SuggestedHeight="45" HorizontalAlignment="Left" VerticalAlignment="Center" PositionXOffset="-30" KeyID="@KeyID" IsVisible="@IsVisible"/>
                  </Children>
                </ButtonWidget>

                <ButtonWidget DoNotPassEventsToChildren="true" WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="400" SuggestedHeight="64" HorizontalAlignment="Right" VerticalAlignment="Center" MarginLeft="20" Brush="Popup.Done.Button.NineGrid" Command.Click="OnNextStage" IsEnabled="@CanAdvance" UpdateChildrenStates="true">
                  <Children>
                    <TextWidget WidthSizePolicy="CoverChildren" HeightSizePolicy="StretchToParent" HorizontalAlignment="Center" VerticalAlignment="Center" Brush="Popup.Button.Text" Text="@NextStageText" />
                    <InputKeyVisualWidget DataSource="{DoneInputKey}" DoNotAcceptEvents="true" WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="45" SuggestedHeight="45" HorizontalAlignment="Left" VerticalAlignment="Center" PositionXOffset="-30" KeyID="@KeyID" IsVisible="@IsVisible"/>
                  </Children>
                </ButtonWidget>
              </Children>
            </ListPanel>
          </Children>
        </Widget>

        <CharacterCreationFirstStageFadeOutWidget WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent" Sprite="BlankWhiteSquare_9" Color="#000000FF" StayTime="1.5" FadeOutTime="1" IsDisabled="@IsActive"/>
      </Children>
    </Widget>
  </Window>
</Prefab> 